<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1"/>
            <meta name="apple-mobile-web-app-capable" content="yes" />
        </f:facet>

        <title>Amigo Interno - Recuperar</title>
                <link rel="shortcut icon" type="image/x-icon" href="#{utilControl.protocolHostPortContext}/imagenes/favicon.ico" />
        <link rel="stylesheet" type="text/css" id="theme" href="#{utilControl.protocolHostPortContext}/css/estilosrecordar.css"/>
        <link rel="stylesheet" type="text/css" id="theme" href="#{utilControl.protocolHostPortContext}/fuentes/fuentes.css"/>
        <script src="#{utilControl.protocolHostPortContext}/css/alertas/sweetalert.min.js" type="text/javascript"></script>
        <link href="#{utilControl.protocolHostPortContext}/css/alertas/sweetalert.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" type="text/css" id="theme" href="#{utilControl.protocolHostPortContext}/css/boilerplate.css"/>
        <script src="#{utilControl.protocolHostPortContext}/js/respond.min.js"></script>

        <!-- Color Box -->
        <link rel="stylesheet" href="#{utilControl.protocolHostPortContext}/libscript/colorbox/colorbox-master/example1/colorbox.css" />
        <script src="#{utilControl.protocolHostPortContext}/libscript/colorbox/colorbox-master/jquery.colorbox-min.js"></script>
        <style type="text/css">
            .login-body {
                background: url("#{utilControl.protocolHostPortPath}/img/app/bannerLogin.jpg") top left no-repeat #f7f7f7;
                background-size: 100% auto; }
            .login-contenedor {
                background: url("#{utilControl.protocolHostPortPath}/img/app/formlogin.png") top left no-repeat #f7f7f7;
                background-size: 100% auto; }

        </style>
    </h:head>


    <h:body >
        <div class="gridContainer clearfix"><!--inicio-contenedor-->
            <div id="contenedor"><!--inicio-contenedor-->

                <div id="cabezote">
                    <div id="tit_cabezote" class="estilo14" >  Recuperar Contraseña </div>
                    <div id="stit_cabezote" class="estilo15" >    </div>
                </div>
                <div id="marcocontenendor"><!--inicio_contenedormedio-->
                    <div id="bannerlog"></div>
                    <div id="marcologin"><!--inicio_marco-->
                        <div id="subtitulo_marco"  class="estilo15">

                           
                        </div>
                        <h:form id="form2" class="form2">



                            <div id="inusuario" class="estilo4">
                                <div id="imgusu">

                                    <i class="fa fa-envelope" style="font-size: 2em; color: #958f8f;"></i>
                                </div>
                                <h:panelGroup >
                                    <p:inputText value="#{benefactorControl.email}" id="attr_correo"
                                                 requiredMessage="Por Favor Digite su usuario." 
                                              
                                                 placeholder="Digite Su Usuario *" class="estilo4">   	
                                     

                                    </p:inputText>
                                    <p:message for="attr_correo" />
                                </h:panelGroup>


                            </div>


                            <div id="incontrasena" class="estilo4">
                                <div id="imgpass">

                                    <i class="fa fa-id-card" style="font-size: 2em; color: #958f8f;"></i>
                                </div>
                                <h:panelGroup >



                                    <p:inputText id="attr_numdoc" required="true" value="#{benefactorControl.documento}"  maxlength="25" placeholder="Número de Documento *" requiredMessage="Debe Digitar un número de documento" class="estilo4">
                                        <p:keyFilter regEx="/[0-9]/i"/>  
                                    </p:inputText>
                                    <p:message for="attr_numdoc" />
                                </h:panelGroup>
                            </div>




                            <div id="botonesuno">
                                <h:outputText value="#{utilControl.msg}" escape="false" id="mensajes1" style="font-size: 1em;
                                              font-size: 1em;
                                              float: left;
                                              height: 12px;
                                              color: #f9f4f4;
                                              text-align: center;
                                              width: 96%;
                                              margin-top: -3%;
                                              margin-left: 2%;
                                              font-weight: bold;
                                              font-family: 'CenturyGothic-Bold';
                                              opacity: 0.8;
                                              border-radius: 20px;" class="estilo5"/>
                                <div id="regresar">  
                                    <p:commandButton value="REGRESAR"  ajax="true" onclick="regresar();"  />

                                </div>
                               <!-- <div id="ingresar">  
                                    <p:commandButton type="reset" id = "reset" value = "LIMPIAR"  />
                                </div>-->
                                <div id="Registrarse"> 
                                    <p:commandButton value="ENVIAR"  ajax="true" onclick="recuperar();"  />


                                </div>


                            </div>


                        </h:form> 
                    </div>




                </div><!--fin_contenedormedio-->

                <script type="text/javascript">
                    $(document).ready(function () {
                        $('.estilo4').attr('autocomplete', 'off');
                        $('.estilo4').bind("cut copy paste", function (e) {
                            e.preventDefault();
                        });
                    });

                    function recuperar() {


                        var formulario = document.getElementById("form2");
                        var correo = document.getElementById("form2:attr_correo").value;
                        var numdoc = document.getElementById("form2:attr_numdoc").value;

                        var funciona = 'S';



                        var mailRegex = /^([\da-z_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;
                        if (correo == "")
                        {
                            swal({type: "info", title: '¡Mensaje De Error!', text: 'Por favor Digite su Usuario'});

                            formulario.correo.focus();
                            funciona = 'N';
                            return false;
                        }

                        if (numdoc == "")
                        {

                            swal({type: "info", title: '¡Mensaje De Error!', text: 'Por Favor digite su número de documento'});
                            formulario.numdoc.focus();
                            funciona = 'N';
                            return false;
                        }

                        if (funciona == 'S') {

                            $.colorbox({href: '#{utilControl.protocolHostPortContext}/app-familiar/auth/password/guardaregistro.xhtml?correo_=' + correo + '&amp;numdoc_=' + numdoc + '', iframe: true, title: '', transition: 'fade', width: '60%', height: '50%'});
                        }

                    }

                    function regresar() {

                        document.location.href = '#{utilControl.protocolHostPortContext}/app-familiar/auth/login.xhtml'
                    }

                </script>
                <h:panelGroup rendered="#{benefactorControl.successful}">
                    <script type="text/javascript">
                        document.location.href = '#{utilControl.protocolHostPortContext}/app-familiar/auth/login.xhtml';
                    </script>
                </h:panelGroup>

                <br/>


                <h:outputStylesheet name="css/ripple.css" library="ultima-layout" />
                <h:outputStylesheet name="css/layout-#{themeControl.theme}.css" library="ultima-layout" />

                <style type="text/css">
                    .panelgrid-dotted-border{

                        border-spacing: 0;
                        border: 0px;
                    }
                    .panelgrid-dotted-border.ui-panelgrid tr, .panelgrid-dotted-border.ui-panelgrid .ui-panelgrid-cell {
                        border: 0px;
                    }
                </style>


                <div id="footer">
                    <div id="marco_pie" >

                        <div id="desarrollo">
                            <span><h:outputText value="©"/> 2019 - </span> 
                            <span>
                                <a target="_blank" href="http://www.tncolombia.com.co" style="color: #003366">
                                    <h:outputText value="Amigo Interno "/></a>
                            </span> <br/>
                            Sistema Recargas - V. #{propiedadControl.version} <i>Actualizado: #{propiedadControl.versionUpdated}</i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </h:body>



</html>
