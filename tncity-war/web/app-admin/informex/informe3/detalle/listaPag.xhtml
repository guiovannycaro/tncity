<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jc="http://jc.faces/component"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./../../../_templateEmbed.xhtml">

            <ui:define name="content.embed">

                <h:outputText value="#{informexControl3.TotalInformesFechas(param.desde_,param.hasta_)}"/>


                <br/>


                <div style="width: 100%;height: auto;
                     float:left;margin: 0% 0% 0% 0%;padding: 0% 0% 0% 0%">

                    <h:form>

                        <p:panelGrid style="width: 100%;" styleClass="panelgrid-dotted-border">

                            <p:row> 
                                <p:column>   
                                    <h:panelGroup rendered="#{param.totalconsulta_ > 0 }">
                                        <div style="float: right;
                                             width: 20%;
                                             height: auto;">
                                            <div style="float:right;width: 100%;height: 12px"><center><b>Descargas</b></center></div>

                                            <div style="float: left;
                                                 width: 28%;
                                                 height: 36px;
                                                 margin: 12% 0% 0% 0%;
                                                 padding: 0% 15% 0% 14%;" >



                                                <p:commandButton  onclick="$.colorbox({href: '#{utilControl.protocolHostPortContext}/app-admin/informex/informe3/detalle/crearExel.xhtml?desde_=#{param.desde_}&amp;hasta_=#{param.hasta_}', iframe: true, title: 'Configurar', transition: 'fade', width: '75%', height: '95%'});" icon="fa fa-table" ajax="true">
                                                    <f:param name="desde_" value="#{param.desde_}"/>
                                                    <f:param name="hasta_" value="#{param.hasta_}"/>
                                                    <f:param name="idbenefactor_" value="#{param.idbenefactor_}"/>
                                                    <f:param name="documento_" value="#{param.documento_}"/>

                                                </p:commandButton>
                                            </div>



                                            <div style="     width: 8%;
                                                 height: 11px;
                                                 margin: 13% 0% 0% -10%;
                                                 padding: 0% 0% 0% 0%;
                                                 float: left;">   - </div>

                                            <div style="float:left;width: 23%;height: 30px;margin:12% 0% 0% 0%;padding: 0% 5% 0% 0%" >
                                                <p:commandButton  onclick="$.colorbox({href: '#{utilControl.protocolHostPortContext}/app-admin/informex/informe3/detalle/crearPdf.xhtml?desde_=#{param.desde_}&amp;hasta_=#{param.hasta_}', iframe: true, title: 'Documento Pdf', transition: 'fade', width: '75%', height: '95%'});" icon="fa fa-file-pdf-o" ajax="true">
                                                    <f:param name="desde_" value="#{param.desde_}"/>
                                                    <f:param name="hasta_" value="#{param.hasta_}"/>
                                                    <f:param name="idbenefactor_" value="#{param.idbenefactor_}"/>
                                                    <f:param name="documento_" value="#{param.documento_}"/>
                                                </p:commandButton>

                                            </div>

                                        </div>
                                    </h:panelGroup>
                                </p:column>
                            </p:row>

                        </p:panelGrid>
                    </h:form>
                    <div id="contenedor">
                        <h:form>
                            <p:dataTable id="cars" var="lst" value="#{informexControl3.lstInformesWS}" rows="15"
                                         paginator="false"
                                         paginatorTemplate="  {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,15,25"
                                         style="width: 9000px">

                                <p:column  style="width: 10%" headerText="idvista" >

                                    <h:outputText value="#{lst.idvista}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="nombres">

                                    <h:outputText value="#{lst.nombres}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="apellidos">

                                    <h:outputText value="#{lst.apellidos}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="Tipo Documento">

                                    <h:outputText value="#{lst.tipo_documento}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="Num. Documento">

                                    <h:outputText value="#{lst.numero_documento}" />

                                </p:column>


                                <p:column style="width: 50%" headerText="Telefono">

                                    <h:outputText value="#{lst.num_telefono}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="Correo">

                                    <h:outputText value="#{lst.email}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="Direccion">

                                    <h:outputText value="#{lst.ciudad_familiar}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Departamento">

                                    <h:outputText value="#{lst.departamento_familiar}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Pais">

                                    <h:outputText value="#{lst.pais_familiar}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="Documento PPL">

                                    <h:outputText value="#{lst.tipodocumento_ppl}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="No.Documento PPL">

                                    <h:outputText value="#{lst.numero_documento_ppl}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Noombre PPL">

                                    <h:outputText value="#{lst.nombre_ppl}" />

                                </p:column>
                                <p:column headerText="Codigo Recaudo">

                                    <h:outputText value="#{lst.idrecaudo}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Valor Recarga">

                                    <h:outputText value="#{lst.valor}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Estado Recarga">

                                    <h:outputText value="#{lst.estado}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Fecha Recarga">

                                    <h:outputText value="#{lst.created_at}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="Establecimiento Recarga">

                                    <h:outputText value="#{lst.establecimiento}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="Codigo Recarga">

                                    <h:outputText value="#{lst.cod_pago}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Observacion Recarga">

                                    <h:outputText value="#{lst.observacion}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Ciudad PPL">

                                    <h:outputText value="#{lst.ciudad_ppl}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Codigo Transaccion">

                                    <h:outputText value="#{lst.codtransaccion}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="Forma De Pago">

                                    <h:outputText value="#{lst.formapago}" />

                                </p:column>
                                <p:column style="width: 20%" headerText="Franquicia">

                                    <h:outputText value="#{lst.franquicia}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Descripcion">

                                    <h:outputText value="#{lst.descripcion}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Referencia Pago">

                                    <h:outputText value="#{lst.referencia1}" />

                                </p:column>
                                <p:column style="width: 50%" headerText="Numero Recibo">

                                    <h:outputText value="#{lst.numerorecibo}" />

                                </p:column>

                                <p:column style="width: 50%" headerText="Codigo Transaccion">

                                    <h:outputText value="#{lst.codigo}" />

                                </p:column>


                                <p:column style="width: 50%" headerText="Transaccion Descripcion">

                                    <h:outputText value="#{lst.mensajeerror}" />

                                </p:column>






                                <f:facet name="paginatorTopLeft">
                                    <p:commandButton type="button" icon="pi pi-refresh" />
                                </f:facet>

                                <f:facet name="paginatorBottomRight">
                                    <p:commandButton type="button" icon="pi pi-cloud-upload" />
                                </f:facet>

                            </p:dataTable>

                        </h:form>




                    </div>

                    <script>
                        function descargar() {
                            var file = document.getElementById("archivo").value;
                            alert(file);
                            window.open(file, "width=300,height=300");



                        }
                    </script>








                </div>

                <style type="text/css">
                    body.layout-compact .ui-button.ui-button-text-icon-left {
                        padding-left: 26px;
                    }
                    .panelgrid-dotted-border{

                        border-spacing: 0;
                        border: 0px;
                    }
                    .panelgrid-dotted-border.ui-panelgrid tr, .panelgrid-dotted-border.ui-panelgrid .ui-panelgrid-cell {
                        border: 0px;
                    }

                    #contenedor{
                        background-color: #eee;
                        width: 100%;
                        height:300px;
                        border: 1px dotted black;
                        overflow: scroll;
                    }

                    th{
                        background: 
                            #d4d4d4 !important;

                    }
                    body .ui-button .ui-icon {
                        color: #247348;
                    }

                    body .ui-button {
                        overflow: hidden;
                        background-color: #ffffff;
                        color: #5E9414;
                        font-size: 16px;
                        height: 36px;
                        width: 40%;
                        padding: 0 16px;
                        border: 0 none;
                        border-radius: 20px;
                        -moz-box-shadow: 0 1px 2.5px 0 rgba(0, 0, 0, 0.26), 0 1px 5px 0 rgba(0, 0, 0, 0.16);
                        -webkit-box-shadow: 0 1px 2.5px 0 rgba(0, 0, 0, 0.26), 0 1px 5px 0 rgba(0, 0, 0, 0.16);
                        box-shadow: 0 1px 2.5px 0 rgba(0, 0, 0, 0.26), 0 1px 5px 0 rgba(0, 0, 0, 0.16);
                        -moz-transition: background-color 0.3s;
                        -o-transition: background-color 0.3s;
                        -webkit-transition: background-color 0.3s;
                        transition: background-color 0.3s;
                    }

                </style>
            </ui:define>

        </ui:composition>

    </body>
</html>
