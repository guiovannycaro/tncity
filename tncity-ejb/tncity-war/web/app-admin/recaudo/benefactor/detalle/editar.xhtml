<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./_template.xhtml">

            <ui:define name="app-admin.recaudo.benefactor.detalle.content">

                <h:outputText id="recargar" value="#{benefactorControl.captchaCode()  }"/>
                <div align="center">
                    <h:form id="ff_">
                        <p:panelGrid columns="2">



                            <h:panelGroup>
                                <h:outputText value="Nombres" styleClass="label"/>
                                <h:outputText value="*" styleClass="oblig"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:inputText value="#{benefactorControl.obj.idpersona.nombres}" required="true" requiredMessage="Requerido!" id="attr_nombre">
                                    <p:keyFilter regEx="/^[a-zA-Z\s]+$/"/>  
                                </p:inputText>

                                <p:message for="attr_nombre"/>
                            </h:panelGroup>

                            <h:panelGroup>
                                <h:outputText value="Apellidos" styleClass="label"/>
                                <h:outputText value="*" styleClass="oblig"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:inputText value="#{benefactorControl.obj.idpersona.apellidos}" required="true" requiredMessage="Requerido!" id="attr_ap">
                                    <p:keyFilter regEx="/^[a-zA-Z\s]+$/"/>  
                                </p:inputText>
                                <p:message for="attr_ap"/>
                            </h:panelGroup>





                            <h:panelGroup>
                                <h:outputText value="Teléfono 1" styleClass="label"/>
                                <h:outputText value="*" styleClass="oblig"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:inputText value="#{benefactorControl.obj.idpersona.numTelefono}" required="true" requiredMessage="Requerido!" id="attr_t1"/>
                                <p:message for="attr_t1"/>
                            </h:panelGroup>


                            <h:panelGroup>
                                <h:outputText value="Teléfono 2" styleClass="label"/>
                                <h:outputText value="" styleClass="oblig"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:inputText value="#{benefactorControl.obj.idpersona.numTelefono2}"  requiredMessage="Requerido!" id="attr_t2"/>
                                <p:message for="attr_t2"/>
                            </h:panelGroup>


                            <h:panelGroup>
                                <h:outputText value="Ciudad" styleClass="label"/>
                                <h:outputText value="*" styleClass="oblig"/>
                            </h:panelGroup>
                            <h:panelGroup>


                                <p:autoComplete value="#{benefactorControl.obj.idpersona.idciudad}"
                                                completeMethod="#{ciudadControl.autoCompleteAllLight}"  
                                                styleClass="autocomplete_" forceSelection="true" var="obj" 
                                                itemLabel="#{obj.nombre} #{obj.iddepartamento.nombre} #{obj.iddepartamento.idpais.nombre}" 
                                                itemValue="#{obj}" id="attr_ciu"
                                                required="true" requiredMessage="Requerido !"/>  

                                <p:message for="attr_ciu"/>
                            </h:panelGroup>


                            <h:panelGroup>
                                <h:outputText value="correo" styleClass="label"/>
                                <h:outputText value="*" styleClass="oblig"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:inputText value="#{benefactorControl.obj.idpersona.email}" required="true" requiredMessage="Requerido!" id="attr_email"/>
                                <p:message for="attr_email"/>
                            </h:panelGroup>



                            <h:panelGroup>
                                <h:outputText value="Dirección" styleClass="label"/>
                                <h:outputText value="*" styleClass="oblig"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <p:inputText value="#{benefactorControl.obj.idpersona.direccion}" required="true" requiredMessage="Requerido!" id="attr_dire"/>
                                <p:message for="attr_dire"/>
                            </h:panelGroup>

                            <h:panelGroup>
                                <h:outputText  value="Contraseña"  styleClass="label" title="Digite 8 caracteres como minimo 1 letra mayuscula 1 caracter especial ($,@)"></h:outputText> 
                           <h:outputText value="*" styleClass="oblig"/>
                            </h:panelGroup>

                            <h:panelGroup >

                                <p:password value="#{benefactorControl.contra}" required="true"  requiredMessage="Debe ingresar una contraseña!" id="contra"
                                           
                                            placeholder="Contraseña *" class="estilo5" 
                                            />
                         <p:message for="contra"/>
                            </h:panelGroup>


                              <h:panelGroup>
                                <h:outputText  value="Confirmar Contraseña"  styleClass="label" title="Digite 8 caracteres como minimo 1 letra mayuscula 1 caracter especial ($,@)"></h:outputText> 
                           <h:outputText value="*" styleClass="oblig"/>
                            </h:panelGroup>

                            <h:panelGroup >

                                <p:password value="#{benefactorControl.con_contra}" required="true"  requiredMessage="Debe ingresar una contraseña!" id="ccontra"
                                         
                                            placeholder="Contraseña *" class="estilo5" 
                                            />
                               <p:message for="ccontra"/>
                            </h:panelGroup>





                            <h:inputHidden value="#{benefactorControl.obj.idbenefactor}"/>

                            <p:commandButton value="Guardar Cambios" style="width: 100%" action="#{benefactorControl.editar()}" icon="fa fa-save" ajax="false">
                                <f:param name="idbenefactor_" value="#{param.idbenefactor_}"/>
                            </p:commandButton>
                            <br/><br/>
                            <p:message for="ff_"/>
                        </p:panelGrid>
                    </h:form>

                    <h:panelGroup rendered="#{benefactorControl.successful}">
                        <script type="text/javascript">
                            document.location.href =
                                    '#{utilControl.protocolHostPortContext}/app-admin/recaudo/benefactor/detalle/detalle.xhtml?idbenefactor_=#{benefactorControl.obj.idbenefactor}';
                        </script>
                    </h:panelGroup>

                </div>

                <script>
                    function mostrarContrasena() {
                        var tipo = document.getElementById("form2:attr_contra");
                        if (tipo.type == "password") {
                            tipo.type = "text";
                        } else {
                            tipo.type = "password";
                        }

                    }

                    function mostrarConfContrasena() {
                        var tipo = document.getElementById("form2:attr_ccontra");
                        if (tipo.type == "password") {
                            tipo.type = "text";
                        } else {
                            tipo.type = "password";
                        }
                    }

                    function actualizar() {
                        setTimeout("location.reload(true);", 1000);
                    }


                </script>


            </ui:define>

        </ui:composition>

    </body>
</html>
